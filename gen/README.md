# Data Generation App

This application is designed to generate large amounts of csv data.

## makeZoo

A script file that automates the creation of all tables and csv files.

## parseArgs

This program generates a pre defined table that will be used by MakeCSV to generate a bunch of random csv data

#### Usage

`parseArgs <table name> <column names> <arguments>`

_e.g. `java parseArgs out col1 col2 col3 -v 20 -1 10 -F "path/to/file" 3`_

There are several different type of arguments used to greate the data

- **varchar** `-v <length>` legnth 1 to n.
- **integer** `-i <length>` lengtth 0 will auto increment starting form 1. A fixed lenth will generate a random number with that many digits _e.g. 2 will generate a number 10-99_
- **date** `-d` will generate a random date in the format DD/MM/YYYY
- **time** `-t` will generate a random time
- **file** `-f <path to file> <column to choose the data from>` will take data from a specified column of another csv file and insert it into this column. This is used in instances of foreign keys.
- **double** `-o <length> <delimiter position>` will generate a dounle with the length and position of the delimiter.
- **sequential int** `-I <staring number>` will generate a sequential integer for each line
- **sequntial varchar** `-V <length>` will generate sequential varchar character for each line. Starting with _AAAA, AAAB, AAAC, ... , zzzz_. This will be done based on the ascii value of the letters.
- **sequential file** `-F <path to file> <column to choose from>` Will take data from the file starting from the top of the file untill the end. It will loop if the end is reached.
- **timestamp** `-T` Adds a timestamp value in the fromat YYYY-MM-DD HH:MM:SS.
- **Hexadecimal Value** `-h <length>` will generate a hexademimal value of length _length_. e.g. length 5 will could create _F86A1_.
- **email** `-e` will generate a fake email using random character with one @ followed by one .
- **bool** `-b` will generate a random integer boolean 0 or 1.
- **sex** `-g` will add a single char for sex constrained to 'M' or 'F'
- **phone** `-p` will add a random NZ based phone number (with the exception of an australian country code).
- **feedInterval** `-x` will add a random hour between 1 and 23.
- **Null** `-n` will print the keyword `null` in that position.
- **Empty String** `-N` will print and empty string. This is is the same as Null for a varchar 2.

_Note:_ Sequential data type are a good use when generating unique data or when you want to ensure that every case in a file is used at least once.

#### <name>_table.txt Structure
```
+-----------+------+----------+------------+---------------------+
|           | 0    | 1        | 2          | 3                   |
+===========+======+==========+============+=====================+
| Header    | rows | fileRefs | seqVarchar | max seq varchar len |
+-----------+------+----------+------------+---------------------+
|                           blank line                           |
+-----------+------+----------+------------+---------------------+
| File Refs | path | fileType | <cols>     |                     |
+-----------+------+----------+------------+---------------------+
|                           blank line                           |
+-----------+----------------------------------------------------+
| genTable  | genTable content                                   |
+-----------+----------------------------------------------------+
```

- **Header** Contains information used to generate the relevent arrays
    - `rows`the number or rows in the genTable.
    - `fileRefs` The number of external files used.
    - `seqVarchar` the number of sequential varchars. 
    - `maxSeqVarcharLen` the maximum length of a sequential varchar
- **File Refs** Contains the path/to/file for all the files specified
    - `path` path/to/file
    - `fileType` `0` for normal and `1` for sequential
    - `<cols>` A list of columns used from that file
- **genTable** The gentable array explained down below

## MakeCSV

This program will generate lines of CSV data in the pattern layed in a table file that is generated by parseAegs.

usage `java MakeCSV <n-lines> <path/to/table/file> <output name>`

#### The header of the table file has the following structure:<br />

```
+-------+----------+--------------+------------------+---------------------+
| index |      0   |        1     |          2       |           3         |
+=======+==========+==============+==================+=====================+
| data  | num rows | num fileRefs | num seq varchars | max seq varchar len |
+-------+----------+--------------+------------------+---------------------+
```

### genTable structure:

```
+-------------+--------+----+------------------------+--------------------+
|      Type   | index  | 0  |             1          |           2        |
+=============+========+====+========================+====================+
| varchar     |      0 | 0  | max len                | -                  |
| int         |      1 | 1  | max len                | -                  |
| date        |      2 | 2  | -                      | -                  |
| time        |      3 | 3  | -                      | -                  |
| file        |      4 | 4  | files array index      | col of data        |
| double      |      5 | 5  | len                    | post delimiter len |
| seq int     |      6 | 6  | count                  | -                  |
| seq varchar |      7 | 7  | seqVarchar array index | array len          |
| seq file    |      8 | 8  | files array index      | col of data        |
| timestamp   |      9 | 9  | -                      | -                  |
| comma < , > |     10 | 10 | -                      | -                  |
| hexValue    |     11 | 11 | len                    | -                  |
| email       |     12 | 12 | -                      | -                  |
| bool        |     13 | 13 | -                      | -                  |
| sex         |     14 | 14 | -                      | -                  |
| phone       |     15 | 15 | -                      | -                  |
| feedInterval|     16 | 16 | -                      | -                  |
| null        |     17 | 17 | -                      | -                  |
| empty string|     18 | 18 | -                      | -                  |
+-------------+--------+----+------------------------+--------------------+
```

## csvFile

A wrapper class that contains all lines of a csv file but only stores the specified columns

#### Methods

##### csvFile(String path/to/file, int columns[])

a contructor class that loads the data of all specified columns into an arrayList for later usage.

##### getRandom(int _column_)

returns a random random line of data frm the specified column.

## Refferences

[slim-3](slim-3.csv) was taken from [lukes/ISO-3166-Countries-with-Regional-Codes](https://github.com/lukes/ISO-3166-Countries-with-Regional-Codes) under the creative commons licence.



_All other files in gen/ were created by Dolf ten Have for Compx323-25A_


## Final notes. 

csvFile was originally designed with the idea that I would be reading multiple columns of data from the same csv file in once. Hence it accepts an int array of the columns. However, in practice this will never occur with our dataset. Therefore I did not implement the feature properly and only one column will be used at a time. Implementing this would requre a header rework, requiring a partial rewrite of parseArgs and MakeTable.
